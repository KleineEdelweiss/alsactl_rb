# SUMMARY #

**Date**
2021-Jul-19

**Version**
0.1.1

**Severity**
[CRITICAL UPDATE]

**Description**
No one appears to have noticed, perhaps due to the still highly-prevalent Ruby 2.7 on many systems, but this gem did NOT compile on later versions (2.8 BETA or anything 3.0+). This was due to a poorly-configured extconf, Rakefile, and gemspec. I have only been doing Ruby-C extensions for a few months, on and off, so I was not aware that Rake does not get invoked on execution of ``gem install``.

As such, the extension object file was not being placed into the correct location, even after a successful compilation, so the wrapper kept attempting to link _ONLY_ to the 2.7 version of the ``.so``. The key takeaway from this and why it would _still install_ was that the shared object, the one generated by my own local dev machine and older dev environment, was actually being placed into the proper location as a static dep, whereas the local, native, newly-compiled extension library was staying in an unlinked location (still under ``/ext/alsacore/``).

Thanks to a suggestion by @sampersand, on reviewing the ``openssl`` gem, I found out the correct way to link it was to leave the compiled object inside said directory, and to ``require 'alsacore.so'``, instead of using ``require_relative`` and the local path.

**Final Notes**
Please make sure to update this gem, if you have it installed, as the next Ruby version you upgrade to will NOT allow this to work, otherwise.